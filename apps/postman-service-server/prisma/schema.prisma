datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model NotificationConfig {
  configDetails Json?
  createdAt     DateTime                        @default(now())
  id            String                          @id @default(cuid())
  provider      EnumNotificationConfigProvider?
  updatedAt     DateTime                        @updatedAt
  user          User?                           @relation(fields: [userId], references: [id])
  userId        String?
}

model NotificationRequest {
  createdAt        DateTime                                 @default(now())
  id               String                                   @id @default(cuid())
  message          String?
  notificationType EnumNotificationRequestNotificationType?
  recipient        String?
  scheduledTime    DateTime?
  status           EnumNotificationRequestStatus?
  updatedAt        DateTime                                 @updatedAt
  user             User?                                    @relation(fields: [userId], references: [id])
  userId           String?
}

model Notification {
  createdAt   DateTime                  @default(now())
  deliveredAt DateTime?
  id          String                    @id @default(cuid())
  provider    EnumNotificationProvider?
  requestId   String?
  response    Json?
  status      EnumNotificationStatus?
  updatedAt   DateTime                  @updatedAt
}

model User {
  createdAt            DateTime              @default(now())
  email                String?               @unique
  firstName            String?
  id                   String                @id @default(cuid())
  lastName             String?
  notificationConfigs  NotificationConfig[]
  notificationRequests NotificationRequest[]
  password             String
  roles                Json
  updatedAt            DateTime              @updatedAt
  username             String                @unique
}

enum EnumNotificationConfigProvider {
  Option1
}

enum EnumNotificationRequestNotificationType {
  Option1
}

enum EnumNotificationRequestStatus {
  Option1
}

enum EnumNotificationProvider {
  Option1
}

enum EnumNotificationStatus {
  Option1
}
